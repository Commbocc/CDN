$(document).ready(function(){function b(a,b){var d=[],e=a.split(/\r|\r\n|\n/);return $.each(e,function(a,b){var c=b.split(",");c[0].length&&d.push({name:c[0],y:parseFloat(c[1])})}),"false"==b.data("mini")?d:c(d,b)}function c(a,b){for(var c=b.data("misc-threshold")||.035,e=0,f="",g=0,h=[],i=0;i<a.length;i++)g+=a[i].y;for(var i=0;i<a.length;i++)a[i].y/g<=c?(e+=a[i].y,f=f.concat(a[i].name+": "+a[i].y+"<br>")):h.push(a[i]);return 1==i&&(h.sort(d),e+=h[0].y,f=f.concat(h[0].name+": "+h[0].y+"<br>"),h.shift()),e>0&&h.push({name:"Misc. \u2264 "+(100*c).toFixed(1)+"%",tooltip:f,y:e}),h}function d(a,b){return a.y<b.y?-1:a.y>b.y?1:0}var a=["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"];$("body").append('<style type="text/css">.chart > .data { display: none; }</style>'),$(".chart.chart-pie").each(function(){var c={colors:a,chart:{type:"pie",options3d:{enabled:$(this).data("3d")||!1,alpha:40}},title:{text:$(this).data("title")||null},tooltip:{pointFormat:"{point.tooltip}{series.name}: <b>{point.y}</b> ({point.percentage:.1f}%)"},plotOptions:{pie:{innerSize:$(this).data("inner-size")||0,depth:45,allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0},showInLegend:!1}},series:[{name:null}]},d=$(this,".data").text().replace(/\t/g,"");c.series.push({data:b(d,$(this)),name:$(this).data("series-name")||"Value"}),$(this).highcharts(c)}),$(".chart.chart-column").each(function(){var c={colors:a,chart:{type:"column"},title:{text:$(this).data("title")||null},xAxis:{type:"category",title:{text:$(this).data("xaxis-label")||null},labels:{rotation:-45,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}},yAxis:{min:0,title:{text:$(this).data("yaxis-label")||null}},legend:{enabled:!1},tooltip:{pointFormat:"{point.tooltip}<b>${point.y}</b>"},series:[{name:"Population",dataLabels:{enabled:!0,rotation:-90,color:"#FFFFFF",align:"right",x:4,y:10,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif",textShadow:"0 0 3px black"}}}]},d=$(this,".data").text().replace(/\t/g,"");c.series.push({data:b(d,$(this)),name:$(this).data("series-name")||"Value"}),$(this).highcharts(c)})});